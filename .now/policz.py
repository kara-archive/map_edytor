'''
No co tu dużo mówisz, w image_path wpisz ścieżkę pliku i bzikasz. No tylko musiz mieć popróbkowane piksele i wklejoną ich pozycję do sample_positions[] und zdefiniowane kolory, to jak je nazwiesz to chuj jeden, ale kolor musi być taki jak państwo. Upewnij się też, że masz pobrany Pillow dla pytonga (pip install pillow), bo inaczej nie zadziała.
'''
from PIL import Image

# Wczytanie mapy
image_path = "mapa.png"  # Ścieżka do mapy
image = Image.open(image_path)
pixels = image.load()

# Baza danych pozycji do próbkowania (przykładowe pozycje w formacie (x, y))
sample_positions = [
(214,41), (215,49), (204,51), (201,59), (221,54), (214,60), (230,56), (242,54), (252,56), (236,65), (265,60), (253,67), (279,52), (279,66), (262,75), (292,42), (302,42), (299,64), (310,55), (320,40), (316,34), (324,32), (333,47), (337,39), (341,30), (316,52), (350,47), (354,37), (356,27), (366,28), (357,49), (367,45), (376,29), (390,26), (385,39), (403,27), (399,39), (413,24), (410,36), (427,24), (420,37), (444,30), (440,19), (453,19), (461,27), (459,38), (445,40), (467,53), (459,51), (449,51), (433,43), (416,51), (399,50), (433,59), (452,64), (452,76), (470,85), (436,79), (423,82), (410,68), (449,92), (466,98), (481,94), (494,100), (503,101), (511,99), (520,102), (479,106), (492,115), (511,116), (520,112), (533,107), (523,121), (532,125), (538,120), (543,136), (549,126), (560,127), (555,145), (568,130), (579,136), (573,149), (585,145), (594,147), (604,144), (588,161), (605,161), (619,148), (612,137), (624,130), (634,142), (615,125), (611,114), (617,104), (626,100), (621,113), (629,115), (634,105), (636,97), (643,97), (640,113), (650,101), (652,111), (659,107), (646,121), (660,119), (668,113), (635,124), (644,132), (657,133), (670,121), (672,136), (681,127), (676,114), (683,113), (689,119), (688,130), (704,121), (701,133), (715,122), (711,140), (724,127), (724,141), (734,134), (746,134), (745,145), (766,140), (756,133), (765,127), (782,122), (776,129), (782,131), (791,123), (777,138), (787,139), (797,133), (805,130), (821,129), (831,128), (806,140), (819,140), (832,141), (832,154), (814,155), (826,173), (799,140), (794,146), (784,149), (789,157), (801,158), (780,159), (765,156), (775,169), (787,170), (798,174), (810,176), (816,192), (794,191), (786,185), (777,181), (776,193), (786,203), (801,202), (822,204), (813,209), (796,213), (786,219), (802,233), (814,228), (834,222), (841,240), (825,241), (815,242), (799,250), (792,264), (809,265), (824,267), (849,269), (865,298), (834,281), (813,285), (789,285), (777,285), (754,318), (779,319), (823,311), (797,338), (828,338), (863,329), (897,349), (884,362), (864,362), (830,358), (820,353), (775,362), (789,387), (825,389), (806,393), (840,378), (901,375), (873,386), (870,397), (840,409), (871,413), (891,401), (904,396), (924,401), (935,407), (908,406), (906,432), (931,438), (935,420), (964,444), (957,452), (939,453), (908,452), (888,442), (863,426), (829,427), (848,452), (886,458), (922,470), (958,467), (973,459), (997,474), (981,484), (1015,482), (1041,463), (1016,470), (1066,463), (1041,474), (1065,475), (1064,495), (1073,499), (1018,498), (1051,533), (1035,520), (1013,509), (990,503), (971,490), (944,487), (900,493), (918,502), (932,520), (944,520), (971,522), (1018,547), (1037,561), (1014,575), (995,566), (981,551), (935,552), (889,510), (882,486), (874,513), (882,547), (900,534), (913,560), (933,578), (952,583), (976,593), (1004,593), (886,581), (887,601), (911,606), (910,625), (942,634), (933,653), (907,645), (891,628), (865,600), (853,556), (855,530), (846,515), (859,497), (919,669), (887,670), (868,647), (849,616), (808,607), (802,586), (791,579), (804,566), (778,568), (769,580), (772,599), (778,605), (794,606), (803,618), (789,639), (757,652), (772,662), (791,665), (817,681), (846,672), (858,675), (883,700), (895,710), (899,741), (879,733), (858,718), (810,722), (789,707), (771,687), (750,689), (750,736), (769,736), (786,767), (835,776), (886,774), (839,792), (867,794), (902,790), (926,815), (847,829), (870,852), (880,847), (925,857), (902,882), (874,887), (850,879), (829,857), (828,823), (811,807), (813,833), (802,824), (771,809), (744,771), (1068,847), (1066,902), (998,906), (998,944), (1033,959), (995,970), (980,998), (1013,1012), (995,1024), (974,826), (882,913), (833,876), (834,909), (792,905), (806,918), (815,926), (805,944), (822,955), (793,980), (803,985), (829,986), (840,1018), (798,1021), (784,1012), (788,1027), (764,1024), (741,1016), (745,996), (767,962), (752,934), (745,898), (765,883), (771,866), (760,843), (734,1048), (710,1052), (759,1053), (785,1065), (804,1080), (777,1081), (730,1077), (718,1082), (742,1109), (778,1116), (761,1148), (732,1145), (708,1128), (686,1138), (727,1165), (694,1159), (712,1190), (675,1183), (633,1191), (625,1201), (604,1183), (642,1153), (611,1137), (576,1137), (622,1080), (652,1068), (664,1044), (623,1071), (614,1098), (578,1105), (556,1098), (569,1064), (571,1022), (575,953), (620,966), (621,929), (518,958), (635,1006), (661,1002), (651,937), (668,924), (678,897), (666,837), (635,875), (579,921), (571,901), (520,905), (491,899), (513,879), (503,857), (529,848), (519,808), (514,778), (590,887), (583,874), (567,805), (606,809), (537,756), (519,727), (500,729), (493,720), (486,705), (469,677), (445,649), (451,616), (717,864), (712,822), (692,814), (645,789), (674,793), (680,752), (636,748), (604,739), (593,727), (563,727), (537,714), (517,703), (502,683), (633,740), (648,731), (675,731), (699,726), (722,726), (707,688), (685,675), (633,698), (614,701), (482,632), (524,633), (455,597), (477,597), (513,586), (553,607), (549,579), (579,640), (563,664), (628,678), (591,633), (631,639), (699,650), (719,647), (734,612), (682,612), (611,603), (594,579), (619,581), (586,568), (473,565), (454,575), (421,562), (400,563), (390,560), (365,533), (381,523), (414,521), (344,521), (334,529), (322,532), (323,509), (329,494), (347,478), (353,491), (376,486), (392,496), (421,505), (454,531), (455,512), (450,495), (446,479), (473,480), (492,514), (498,445), (514,469), (541,433), (543,414), (559,405), (585,403), (623,411), (655,400), (711,401), (742,411), (771,411), (795,423), (826,449), (797,456), (767,452), (720,447), (682,445), (641,440), (614,461), (565,459), (539,482), (568,479), (565,512), (603,501), (581,477), (657,474), (690,482), (748,479), (767,474), (807,479), (781,498), (769,525), (750,557), (715,548), (640,564), (606,550), (756,365), (745,290), (747,268), (730,264), (726,226), (710,222), (720,184), (702,159), (728,162), (735,184), (759,230), (604,396), (534,387), (512,389), (507,400), (665,324), (596,294), (678,374), (681,224), (644,220), (609,206), (642,183), (628,162), (584,199), (554,174), (542,271), (539,313), (484,380), (477,418), (452,456), (419,466), (380,463), (355,446), (338,442), (331,450), (312,437), (315,483), (305,493), (297,505), (293,534), (275,529), (273,537), (246,539), (235,535), (244,527), (198,523), (200,514), (192,514), (161,527), (159,519), (154,525), (131,498), (131,485), (126,489), (141,483), (122,462), (115,459), (93,454), (80,439), (68,440), (83,431), (78,426), (86,422), (91,430), (91,415), (80,409), (49,404), (44,371), (83,375), (96,379), (96,352), (75,334), (125,384), (111,406), (139,445), (165,448), (172,448), (177,442), (203,432), (218,430), (225,449), (260,467), (238,452), (234,443), (260,455), (257,406), (241,405), (218,382), (548,349), (454,332), (449,427), (412,427), (334,422), (352,389), (346,384), (351,376), (244,357), (162,352), (125,362), (83,298), (36,288), (108,255), (116,257), (103,203), (84,207), (39,176), (34,97), (137,305), (204,293), (343,329), (329,308), (323,299), (266,254), (167,260), (133,194), (112,197), (129,169), (139,159), (147,150), (161,156), (148,132), (165,134), (188,140), (189,126), (183,112), (161,111), (170,87), (189,78), (187,91), (203,78), (195,94), (218,72), (215,94), (198,104), (230,83), (224,99), (246,83), (263,90), (228,111), (197,130), (210,139), (168,183), (203,154), (255,128), (288,104), (267,163), (295,124), (334,100), (326,85), (300,78), (321,67), (339,60), (361,60), (351,76), (367,73), (383,64), (379,54), (391,77), (380,93), (417,88), (398,112), (432,110), (447,107), (469,113), (486,124), (503,126), (521,134), (499,142), (460,138), (516,171), (511,201), (475,262), (327,195), (396,190), (213,359), (126,369), (152,389), (214,891), (61,717), (504,474) # dodaj więcej pozycji według potrzeb
]

# Definicje kolorów i tolerancji
white_color = (255, 255, 255)
red_color = (255, 0, 0)
tolerance = 5  # Tolerancja dla podobieństwa koloru, lepiej nie ustawiać na 0, bo jotpegi podczas kompresji zmieniają troszkę kolory.

# Funkcja do sprawdzenia, czy dwa kolory są podobne z uwzględnieniem tolerancji
def is_similar_color(color1, color2, tolerance):
    return all(abs(color1[i] - color2[i]) <= tolerance for i in range(3))

# Inicjalizacja liczników
white_count = 0
red_count = 0

# Próbkowanie kolorów na podstawie pozycji w sample_positions
for position in sample_positions:
    x, y = position
    color = pixels[x, y]

    if is_similar_color(color, white_color, tolerance):
        white_count += 1
    elif is_similar_color(color, red_color, tolerance):
        red_count += 1

# Wyświetlenie wyników
print(f"Ilość pustych prowincji: {white_count}")
print(f"Ilość czerwonych prowincji: {red_count}")
